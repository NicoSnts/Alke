document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll("[alke-animation]"),t=document.getElementById("alke-debug-log"),n=e=>{const n=document.createElement("div");n.textContent=e,t.appendChild(n)};e.forEach((e=>{const t=e.getAttribute("alke-animation")||"fade-in",a=e.getAttribute("alke-blur"),i=e.getAttribute("alke-type")||"standard",r=parseFloat(e.getAttribute("alke-stagger"))||.1,l=e.getAttribute("alke-distance")||"20%",o=parseFloat(e.getAttribute("alke-duration"))||1,d=parseFloat(e.getAttribute("alke-delay"))||0,g=e.hasAttribute("alke-infinite"),s=e.getAttribute("alke-start")||"top bottom",c=parseInt(e.getAttribute("alke-disabled"),10);if(n(`Setting up animation for element: ${e.tagName}#${e.id}`),c&&window.innerWidth<=c)return n(`Animation disabled on element: ${e.tagName}#${e.id} due to screen size.`),gsap.set(e,{opacity:1,x:0,y:0,filter:"none"}),void ScrollTrigger.getById(e)?.kill();let u={opacity:1,x:0,y:0,filter:a?"blur(0px)":"none",duration:o,delay:d,ease:"power4.out"};gsap.set("stagger"===i?e.children:e,{opacity:0,x:t.includes("left")?`-${l}`:t.includes("right")?l:0,y:t.includes("up")?l:t.includes("down")?`-${l}`:0,filter:a?`blur(${a})`:"none"});const p=()=>{try{"stagger"===i&&e.children.length>0?gsap.to([...e.children],{...u,stagger:r}):gsap.to(e,u),n(`Animation triggered for element: ${e.tagName}#${e.id}`)}catch(t){n(`Error animating element: ${e.tagName}#${e.id} - ${t.message}`)}};gsap.timeline({id:e,scrollTrigger:{trigger:e,start:s,onEnter:p,onLeaveBack:()=>{g&&gsap.set("stagger"===i?e.children:e,{opacity:0,x:t.includes("left")?`-${l}`:t.includes("right")?l:0,y:t.includes("up")?l:t.includes("down")?`-${l}`:0,filter:a?`blur(${a})`:"none"})},onEnterBack:p,toggleActions:"play none none none",once:!g}})}))}));